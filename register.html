<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–π –¥–Ω–µ–≤–Ω–∏–∫ | –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
</head>
<body>
    <main class="app-container app-register-container">
        <div class="app-glass-card">
            <header class="app-login-header">
                <div class="app-logo">üíä</div>
                <h1 class="app-page-title">–°–æ–∑–¥–∞–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞</h1>
            </header>

            <form id="registerForm" class="app-login-form">
                <div class="app-form-group">
                    <label for="register-name" class="app-form-label">–ò–º—è</label>
                    <input type="text" id="register-name" class="app-form-input" placeholder="–ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤">
                </div>

                <div class="app-form-group">
                    <label for="register-email" class="app-form-label">–≠–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞—è –ø–æ—á—Ç–∞</label>
                    <input type="email" id="register-email" class="app-form-input" placeholder="your.email@example.com">
                </div>

                <div class="app-form-group">
                    <label for="register-password" class="app-form-label">–ü–∞—Ä–æ–ª—å</label>
                    <input type="password" id="register-password" class="app-form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>

                <div class="app-form-group">
                    <label for="register-password-confirm" class="app-form-label">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ –ø–∞—Ä–æ–ª—è</label>
                    <input type="password" id="register-password-confirm" class="app-form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
                </div>

                <div id="registerError" class="app-error-message" style="display: none; color: #ff6b6b; margin-bottom: var(--spacing-md);"></div>

                <button type="button" id="registerBtn" class="app-button app-button--accent">–ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è</button>
            </form>

            <footer class="app-login-footer">
                <p>–£–∂–µ –µ—Å—Ç—å –∞–∫–∫–∞—É–Ω—Ç? <a href="login.html">–í–æ–π–¥–∏—Ç–µ</a></p>
                <p><a href="index.html">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a></p>
            </footer>
        </div>
    </main>

    <script>
        document.getElementById('registerBtn').addEventListener('click', function() {
            const name = document.getElementById('register-name').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const confirmPassword = document.getElementById('register-password-confirm').value;
            const errorElement = document.getElementById('registerError');
            
            // –í–∞–ª–∏–¥–∞—Ü–∏—è
            if (!name || !email || !password || !confirmPassword) {
                errorElement.textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è';
                errorElement.style.display = 'block';
                return;
            }
            
            if (!email.includes('@')) {
                errorElement.textContent = '–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π email';
                errorElement.style.display = 'block';
                return;
            }
            
            if (password.length < 6) {
                errorElement.textContent = '–ü–∞—Ä–æ–ª—å –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –º–∏–Ω–∏–º—É–º 6 —Å–∏–º–≤–æ–ª–æ–≤';
                errorElement.style.display = 'block';
                return;
            }
            
            if (password !== confirmPassword) {
                errorElement.textContent = '–ü–∞—Ä–æ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç';
                errorElement.style.display = 'block';
                return;
            }
            
            // –ò–º–∏—Ç–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
            errorElement.style.display = 'none';
            this.textContent = '–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è...';
            this.disabled = true;
            
            setTimeout(() => {
                // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ñ–µ–π–∫–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
                const user = {
                    id: Date.now().toString(),
                    name: name,
                    email: email
                };
                localStorage.setItem('currentUser', JSON.stringify(user));
                
                // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –≤ –¥–Ω–µ–≤–Ω–∏–∫
                window.location.href = 'diary.html';
            }, 1000);
        });
    </script>
</body>
</html>